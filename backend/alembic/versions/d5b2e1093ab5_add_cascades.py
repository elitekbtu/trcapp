"""add cascades

Revision ID: d5b2e1093ab5
Revises: 8ce91692d472
Create Date: 2025-06-21 11:39:35.401790

"""
from alembic import op
import sqlalchemy as sa

# revision identifiers, used by Alembic.
revision = 'd5b2e1093ab5'
down_revision = '8ce91692d472'
branch_labels = None
depends_on = None

def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(op.f('cart_items_user_id_fkey'), 'cart_items', type_='foreignkey')
    op.drop_constraint(op.f('cart_items_item_id_fkey'), 'cart_items', type_='foreignkey')
    op.create_foreign_key(None, 'cart_items', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'cart_items', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('comment_likes_comment_id_fkey'), 'comment_likes', type_='foreignkey')
    op.drop_constraint(op.f('comment_likes_user_id_fkey'), 'comment_likes', type_='foreignkey')
    op.create_foreign_key(None, 'comment_likes', 'comments', ['comment_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'comment_likes', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('comments_user_id_fkey'), 'comments', type_='foreignkey')
    op.drop_constraint(op.f('comments_outfit_id_fkey'), 'comments', type_='foreignkey')
    op.drop_constraint(op.f('comments_item_id_fkey'), 'comments', type_='foreignkey')
    op.create_foreign_key(None, 'comments', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'comments', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'comments', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('outfit_accessories_association_outfit_id_fkey'), 'outfit_accessories_association', type_='foreignkey')
    op.drop_constraint(op.f('outfit_accessories_association_item_id_fkey'), 'outfit_accessories_association', type_='foreignkey')
    op.create_foreign_key(None, 'outfit_accessories_association', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'outfit_accessories_association', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('outfit_bottom_association_outfit_id_fkey'), 'outfit_bottom_association', type_='foreignkey')
    op.drop_constraint(op.f('outfit_bottom_association_item_id_fkey'), 'outfit_bottom_association', type_='foreignkey')
    op.create_foreign_key(None, 'outfit_bottom_association', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'outfit_bottom_association', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('outfit_footwear_association_item_id_fkey'), 'outfit_footwear_association', type_='foreignkey')
    op.drop_constraint(op.f('outfit_footwear_association_outfit_id_fkey'), 'outfit_footwear_association', type_='foreignkey')
    op.create_foreign_key(None, 'outfit_footwear_association', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'outfit_footwear_association', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('outfit_fragrances_association_outfit_id_fkey'), 'outfit_fragrances_association', type_='foreignkey')
    op.drop_constraint(op.f('outfit_fragrances_association_item_id_fkey'), 'outfit_fragrances_association', type_='foreignkey')
    op.create_foreign_key(None, 'outfit_fragrances_association', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'outfit_fragrances_association', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('outfit_top_association_item_id_fkey'), 'outfit_top_association', type_='foreignkey')
    op.drop_constraint(op.f('outfit_top_association_outfit_id_fkey'), 'outfit_top_association', type_='foreignkey')
    op.create_foreign_key(None, 'outfit_top_association', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'outfit_top_association', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('outfit_view_history_outfit_id_fkey'), 'outfit_view_history', type_='foreignkey')
    op.drop_constraint(op.f('outfit_view_history_user_id_fkey'), 'outfit_view_history', type_='foreignkey')
    op.create_foreign_key(None, 'outfit_view_history', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'outfit_view_history', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('user_favorite_items_item_id_fkey'), 'user_favorite_items', type_='foreignkey')
    op.drop_constraint(op.f('user_favorite_items_user_id_fkey'), 'user_favorite_items', type_='foreignkey')
    op.create_foreign_key(None, 'user_favorite_items', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'user_favorite_items', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('user_favorite_outfits_outfit_id_fkey'), 'user_favorite_outfits', type_='foreignkey')
    op.drop_constraint(op.f('user_favorite_outfits_user_id_fkey'), 'user_favorite_outfits', type_='foreignkey')
    op.create_foreign_key(None, 'user_favorite_outfits', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'user_favorite_outfits', 'outfits', ['outfit_id'], ['id'], ondelete='CASCADE')
    op.drop_constraint(op.f('user_view_history_user_id_fkey'), 'user_view_history', type_='foreignkey')
    op.drop_constraint(op.f('user_view_history_item_id_fkey'), 'user_view_history', type_='foreignkey')
    op.create_foreign_key(None, 'user_view_history', 'items', ['item_id'], ['id'], ondelete='CASCADE')
    op.create_foreign_key(None, 'user_view_history', 'users', ['user_id'], ['id'], ondelete='CASCADE')
    # ### end Alembic commands ###

def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(None, 'user_view_history', type_='foreignkey')
    op.drop_constraint(None, 'user_view_history', type_='foreignkey')
    op.create_foreign_key(op.f('user_view_history_item_id_fkey'), 'user_view_history', 'items', ['item_id'], ['id'])
    op.create_foreign_key(op.f('user_view_history_user_id_fkey'), 'user_view_history', 'users', ['user_id'], ['id'])
    op.drop_constraint(None, 'user_favorite_outfits', type_='foreignkey')
    op.drop_constraint(None, 'user_favorite_outfits', type_='foreignkey')
    op.create_foreign_key(op.f('user_favorite_outfits_user_id_fkey'), 'user_favorite_outfits', 'users', ['user_id'], ['id'])
    op.create_foreign_key(op.f('user_favorite_outfits_outfit_id_fkey'), 'user_favorite_outfits', 'outfits', ['outfit_id'], ['id'])
    op.drop_constraint(None, 'user_favorite_items', type_='foreignkey')
    op.drop_constraint(None, 'user_favorite_items', type_='foreignkey')
    op.create_foreign_key(op.f('user_favorite_items_user_id_fkey'), 'user_favorite_items', 'users', ['user_id'], ['id'])
    op.create_foreign_key(op.f('user_favorite_items_item_id_fkey'), 'user_favorite_items', 'items', ['item_id'], ['id'])
    op.drop_constraint(None, 'outfit_view_history', type_='foreignkey')
    op.drop_constraint(None, 'outfit_view_history', type_='foreignkey')
    op.create_foreign_key(op.f('outfit_view_history_user_id_fkey'), 'outfit_view_history', 'users', ['user_id'], ['id'])
    op.create_foreign_key(op.f('outfit_view_history_outfit_id_fkey'), 'outfit_view_history', 'outfits', ['outfit_id'], ['id'])
    op.drop_constraint(None, 'outfit_top_association', type_='foreignkey')
    op.drop_constraint(None, 'outfit_top_association', type_='foreignkey')
    op.create_foreign_key(op.f('outfit_top_association_outfit_id_fkey'), 'outfit_top_association', 'outfits', ['outfit_id'], ['id'])
    op.create_foreign_key(op.f('outfit_top_association_item_id_fkey'), 'outfit_top_association', 'items', ['item_id'], ['id'])
    op.drop_constraint(None, 'outfit_fragrances_association', type_='foreignkey')
    op.drop_constraint(None, 'outfit_fragrances_association', type_='foreignkey')
    op.create_foreign_key(op.f('outfit_fragrances_association_item_id_fkey'), 'outfit_fragrances_association', 'items', ['item_id'], ['id'])
    op.create_foreign_key(op.f('outfit_fragrances_association_outfit_id_fkey'), 'outfit_fragrances_association', 'outfits', ['outfit_id'], ['id'])
    op.drop_constraint(None, 'outfit_footwear_association', type_='foreignkey')
    op.drop_constraint(None, 'outfit_footwear_association', type_='foreignkey')
    op.create_foreign_key(op.f('outfit_footwear_association_outfit_id_fkey'), 'outfit_footwear_association', 'outfits', ['outfit_id'], ['id'])
    op.create_foreign_key(op.f('outfit_footwear_association_item_id_fkey'), 'outfit_footwear_association', 'items', ['item_id'], ['id'])
    op.drop_constraint(None, 'outfit_bottom_association', type_='foreignkey')
    op.drop_constraint(None, 'outfit_bottom_association', type_='foreignkey')
    op.create_foreign_key(op.f('outfit_bottom_association_item_id_fkey'), 'outfit_bottom_association', 'items', ['item_id'], ['id'])
    op.create_foreign_key(op.f('outfit_bottom_association_outfit_id_fkey'), 'outfit_bottom_association', 'outfits', ['outfit_id'], ['id'])
    op.drop_constraint(None, 'outfit_accessories_association', type_='foreignkey')
    op.drop_constraint(None, 'outfit_accessories_association', type_='foreignkey')
    op.create_foreign_key(op.f('outfit_accessories_association_item_id_fkey'), 'outfit_accessories_association', 'items', ['item_id'], ['id'])
    op.create_foreign_key(op.f('outfit_accessories_association_outfit_id_fkey'), 'outfit_accessories_association', 'outfits', ['outfit_id'], ['id'])
    op.drop_constraint(None, 'comments', type_='foreignkey')
    op.drop_constraint(None, 'comments', type_='foreignkey')
    op.drop_constraint(None, 'comments', type_='foreignkey')
    op.create_foreign_key(op.f('comments_item_id_fkey'), 'comments', 'items', ['item_id'], ['id'])
    op.create_foreign_key(op.f('comments_outfit_id_fkey'), 'comments', 'outfits', ['outfit_id'], ['id'])
    op.create_foreign_key(op.f('comments_user_id_fkey'), 'comments', 'users', ['user_id'], ['id'])
    op.drop_constraint(None, 'comment_likes', type_='foreignkey')
    op.drop_constraint(None, 'comment_likes', type_='foreignkey')
    op.create_foreign_key(op.f('comment_likes_user_id_fkey'), 'comment_likes', 'users', ['user_id'], ['id'])
    op.create_foreign_key(op.f('comment_likes_comment_id_fkey'), 'comment_likes', 'comments', ['comment_id'], ['id'])
    op.drop_constraint(None, 'cart_items', type_='foreignkey')
    op.drop_constraint(None, 'cart_items', type_='foreignkey')
    op.create_foreign_key(op.f('cart_items_item_id_fkey'), 'cart_items', 'items', ['item_id'], ['id'])
    op.create_foreign_key(op.f('cart_items_user_id_fkey'), 'cart_items', 'users', ['user_id'], ['id'])
    # ### end Alembic commands ### 